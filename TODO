H	battle mechanics fixes
H	bug: after battle surrender the surrendering units don't return to their original region
H	levidon map
H	computer doesn't attack regions
H	make battle AI a more reasonable
M	editor: position region neighbors properly
M	make formation consistent with the new battle mechanics
M	improve AI
M	better food mechanics; food should not be accumulated indefinately
M	do something when there is not enough food for all units (?kill some units)
M	balance buildings and units
M	assault towers
M	region population; income should be calculated as a function of the population; army recruitment should reduce population
M	region-specific features (income, population, units, buildings, battlefield)
M	in battle report display troops for surrendered players and show white flag to indicate the surrender
M	error reporting on invalid map
M	map scrolling
M	handle different screen resolutions better
M	keyboard support in various places in the interface; mouse support in various places in the interface
M	don't allow pawns to attack their own walls (currently only gates are not attacked)
M	don't allow attacking if the attacker cannot do damage to the defender (due to weapon and armor type)
M	use a separate thread to calculate computer turns while the local player is choosing what to play
M	better support for hotseat (show animations to each player, warn before changing current player and showing their map, etc.)
M	?deal damage to each pawn escaping from enemy pawns
L	limited number of shots
L	assault garrison destruction and repair
L	armory, swordsman, crossbowman, heavy cavalry, horse archer
L	assault moat
L	network game (using SCTP?)
L	sound
L	water; naval battles
L	roads
L	religions, ethnicities, languages
L	dynamic alliances
L	seasons
L	auto combat
L	? buildings should not generate income on the day they are built
L	? implement exit game while in battle

battle mechanics
	Q: What I want to fix about battle mechanics?
	A: Players have relatively little control on their pawns (only before each turn) so they have to be quite smart on their own; they shouldn't get stuck or deadlock.

	pawn_stop is not intuitive; if two pawns fight, one tries to escape and the other moves in a collision direction with it, the first doesn't escape
	pawn following another pawn stops at a diagonal field
	pawns don't understand how to sidestep other pawns to reach their destination
	pawns of the same player deadlock (seen with peasant and light cavalry)

bugs / issues
	surrender can be abused for scouting

TODO ? change direction of everything to counterclockwise; currently the y axis is in the opposite direction (and the cross product is negated)
TODO ? rename field to tile
TODO ? rename image to sprite
TODO ? redesign input functions (handling mouse movement is tedious; handling writing should be unified; there should be a way to terminate input with timer)
TODO ? make it simpler to check if two players are allies
TODO ? dynamic battlefield size
TODO ? separate constants for BLOCKAGE_WALL and BLOCKAGE_GATE
TODO ? rename surrender

-- interface --

custom mouse pointer
improve player colors
player names and flag patterns

button input bottom and right coordinates should be exclusive (... - 1)

images
	fortress*.png, fortress_gate*.png
	assault indicator on the map

menu
	directory tabs images
	display minimap

battle
	when two pawns from different alliances are next to each other, display red line between them (to show that they are fighting)
	hide mouse pointer during animation
	display round number
	enemy on the gate not displayed during shooting in battle animation

report
	display minimap

map
	village image (will be displayed to the left of troops bar)
	more tooltips
	display current month and year
	right clicking on a garrison on the map should be the same as clicking for assault
	indicate on the map which region is selected (maybe with a border around it?)
