T	battle AI
	the ratings are too small (which makes the random too important)
	the rating becomes significant only when the enemy is very close
T	computer doesn't attack regions
T	levidon map
H	don't allow pawns to attack their own walls (currently only gates are not attacked)
	separate constants for BLOCKAGE_WALL and BLOCKAGE_GATE
H	don't allow attacking if the attacker cannot do damage to the defender (due to weapon and armor type)
H	use a separate thread to calculate computer turns while the local player is choosing what to play
H	better support for hotseat (show animations to each player, warn before changing current player and showing their map, etc.)
H	region population
	income should be calculated as a function of the population
	army recruitment should reduce population
	one should be able to tell population which resource to produce
H	region-specific features (income, population, units, buildings, battlefield)
H	error reporting on invalid map
H	handle different screen resolutions better
M	improve AI
M	retreat can be abused for scouting (25 peasants can go and retreat for 1 food)
	maybe make retreat take some time (1 or 2 rounds); that way only fast units will be able to retreat
	maybe allow retreat only when the pawns are near the border of the battlefield?
M	editor: position region neighbors properly
M	make formation consistent with the new battle mechanics
M	better food mechanics; food should not be accumulated indefinately
M	do something when there is not enough food for all units (?kill some units)
M	balance buildings and units
M	assault towers
M	map scrolling
M	keyboard support in various places in the interface; mouse support in various places in the interface
M	network game (using SCTP?)
M	auto combat
L	limited number of shots
L	assault garrison destruction and repair
L	armory, swordsman, crossbowman, heavy cavalry, horse archer
L	assault moat
L	sound
L	water; naval battles
L	roads
L	religions, ethnicities, languages
L	dynamic alliances
L	seasons
L	? buildings should not generate income on the day they are built
L	? implement exit game while in battle

battle mechanics
	Players have relatively little control on their pawns (only before each round) so they have to be quite smart on their own; they shouldn't get stuck or deadlock.
	pawns of the same player deadlock (seen with peasant and light cavalry)

	-- bugs --
	F distance to obstacles during assault is not calculated properly
	F region ownership not restored when sieging troops leave the region // this was intentional
	F kill defender troops that retreat from an assault
	F troops retreating in their own region should be killed if they can't go to the garrison
	F troops cannot leave allied region (no action taken when they are told to move to another region)
	F troops that retreated should not participate in other battles in the region they retreated to
	F all consecutive path targets in the queue disappear when the first one is finished
	during assault troops can pass through walls

? change direction of everything to counterclockwise; currently the y axis is in the opposite direction (and the cross product is negated)
? rename image to sprite
? redesign input functions (handling mouse movement is tedious; handling writing should be unified; can I unify the two input functions?)
? make it simpler to check if two players are allies
? dynamic battlefield size
? deal damage to each pawn escaping from enemy pawns

-- interface --

custom mouse pointer
improve player colors
player names and flag patterns
support different resolutions

button input bottom and right coordinates should be exclusive (... - 1)

images
	fortress*.png, fortress_gate*.png
	assault indicator on the map

menu
	directory tabs images
	display minimap

battle
	when two pawns from different alliances are next to each other, display red line between them (to show that they are fighting)
	hide mouse pointer during animation
	display round number
	enemy on the gate not displayed during shooting in battle animation
	support showing more pawn stats (not just health)
	new pawn images
	new wall and gate images; open gate image
	? movement and shoot animation is faster when its duration is shorter
	fight animation

report
	display minimap
	in battle report, display which players retreated (maybe show white flag)
	group players by alliances and show indicator for the alliance

map
	village image (will be displayed to the left of troops bar)
	more tooltips
	display current month and year
	right clicking on a garrison on the map should be the same as clicking for assault
	indicate on the map which region is selected (maybe with a border around it?)
	show region-specific expenses
	support showing troop stats
	redesign arrows showing troop movement
	improve boxes for field and garrison troops (it's not obvious one can place units there until there are units)
	one should be able to tell all troops to go on assault
